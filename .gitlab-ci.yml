image: "rust:latest"

before_script:
  - rustup toolchain install nightly-2020-07-11
  - rustup default nightly
  - cargo install cargo-make

stages:
  # - build
  - verify
  # - coverage

# build:
#   stage: build
#   script:
#     - cargo make build

verify:
  stage: verify
  script:
    - apt update
    - apt install firefox-esr -y
    - rustup component add --toolchain nightly-2020-07-11 rustfmt clippy
    - cargo make verify
# coverage:
#   stage: coverage
#   script:
#     - cargo make coverage
